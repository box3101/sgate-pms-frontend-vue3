<template>
  <div class="table-demo">
    <h1>ê¸°ë³¸ - UiTable ì»´í¬ë„ŒíŠ¸ ë°ëª¨</h1>

    <!-- ê¸°ë³¸ ìŠ¤íƒ€ì¼ -->
    <section class="demo-section">
      <h3>ê¸°ë³¸ ìŠ¤íƒ€ì¼</h3>
      <UiTable v-model="tableData">
        <template #header>
          <tr>
            <th>ë²ˆí˜¸</th>
            <th>ì´ë¦„</th>
            <th>ì´ë©”ì¼</th>
          </tr>
        </template>

        <template #body="{ rows }">
          <tr v-for="(row, index) in rows" :key="row.id">
            <td>{{ index + 1 }}</td>
            <td>{{ row.name }}</td>
            <td>{{ row.email }}</td>
          </tr>
        </template>
      </UiTable>
    </section>

    <!-- ì‘ì€ í¬ê¸° + í…Œë‘ë¦¬ -->
    <section class="demo-section">
      <h3>ì‘ì€ í¬ê¸° + í…Œë‘ë¦¬</h3>
      <UiTable v-model="tableData" size="small" bordered>
        <template #header>
          <tr>
            <th>ë²ˆí˜¸</th>
            <th>ì´ë¦„</th>
            <th>ì´ë©”ì¼</th>
          </tr>
        </template>

        <template #body="{ rows }">
          <tr v-for="(row, index) in rows" :key="row.id">
            <td>{{ index + 1 }}</td>
            <td>{{ row.name }}</td>
            <td>{{ row.email }}</td>
          </tr>
        </template>
      </UiTable>
    </section>

    <!-- í° í¬ê¸° + ì¤„ë¬´ëŠ¬ + í˜¸ë²„ -->
    <section class="demo-section">
      <h3>í° í¬ê¸° + ì¤„ë¬´ëŠ¬ + í˜¸ë²„</h3>
      <UiTable v-model="tableData" size="large" striped hover>
        <template #header>
          <tr>
            <th>ë²ˆí˜¸</th>
            <th>ì´ë¦„</th>
            <th>ì´ë©”ì¼</th>
          </tr>
        </template>

        <template #body="{ rows }">
          <tr v-for="(row, index) in rows" :key="row.id">
            <td>{{ index + 1 }}</td>
            <td>{{ row.name }}</td>
            <td>{{ row.email }}</td>
          </tr>
        </template>
      </UiTable>
    </section>

    <!-- ì „ì²´ ì˜µì…˜ ì ìš© -->
    <section class="demo-section">
      <h3>ì „ì²´ ì˜µì…˜ ì ìš© (í…Œë‘ë¦¬ + ì¤„ë¬´ëŠ¬ + í˜¸ë²„)</h3>
      <UiTable v-model="extendedTableData" size="medium" bordered striped hover :column-count="5">
        <template #colgroup>
          <col style="width: 60px" />
          <col style="width: auto" />
          <col style="width: 200px" />
          <col style="width: 120px" />
          <col style="width: 100px" />
        </template>

        <template #header>
          <tr>
            <th>ë²ˆí˜¸</th>
            <th>ì´ë¦„</th>
            <th>ì´ë©”ì¼</th>
            <th>ë¶€ì„œ</th>
            <th>ì§ê¸‰</th>
          </tr>
        </template>

        <template #body="{ rows }">
          <tr v-for="(row, index) in rows" :key="row.id">
            <td class="text-center">{{ index + 1 }}</td>
            <td>{{ row.name }}</td>
            <td>{{ row.email }}</td>
            <td>{{ row.department }}</td>
            <td>{{ row.rank }}</td>
          </tr>
        </template>

        <template #footer>
          <tr>
            <td colspan="5" class="text-center">
              ì´ <strong>{{ extendedTableData.length }}</strong
              >ëª…
            </td>
          </tr>
        </template>
      </UiTable>
    </section>

    <!-- ë¹ˆ í…Œì´ë¸” -->
    <section class="demo-section">
      <h3>ë¹ˆ í…Œì´ë¸” ìƒíƒœ</h3>
      <UiTable v-model="emptyTableData" empty-message="ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤." :column-count="5">
        <template #header>
          <tr>
            <th>ë²ˆí˜¸</th>
            <th>ì´ë¦„</th>
            <th>ì´ë©”ì¼</th>
            <th>ë¶€ì„œ</th>
            <th>ì§ê¸‰</th>
          </tr>
        </template>

        <template #body="{ rows }">
          <tr v-for="(row, index) in rows" :key="row.id">
            <td>{{ index + 1 }}</td>
            <td>{{ row.name }}</td>
            <td>{{ row.email }}</td>
            <td>{{ row.department }}</td>
            <td>{{ row.rank }}</td>
          </tr>
        </template>
      </UiTable>
    </section>

    <!-- ë¡œë”© ìƒíƒœ -->
    <section class="demo-section">
      <h3>ë¡œë”© ìƒíƒœ</h3>
      <div class="loading-controls">
        <button @click="toggleLoading" class="btn">
          {{ isLoading ? 'ë¡œë”© ì¤‘ì§€' : 'ë¡œë”© ì‹œì‘' }}
        </button>
      </div>
      <UiTable v-model="tableData" :loading="isLoading" :column-count="3">
        <template #header>
          <tr>
            <th>ë²ˆí˜¸</th>
            <th>ì´ë¦„</th>
            <th>ì´ë©”ì¼</th>
          </tr>
        </template>

        <template #body="{ rows }">
          <tr v-for="(row, index) in rows" :key="row.id">
            <td>{{ index + 1 }}</td>
            <td>{{ row.name }}</td>
            <td>{{ row.email }}</td>
          </tr>
        </template>
      </UiTable>
    </section>
  </div>
</template>

<script setup>
  import { ref } from 'vue'

  /**
   * ê¸°ë³¸ í…Œì´ë¸” ë°ì´í„°
   */
  const tableData = ref([
    { id: 1, name: 'í™ê¸¸ë™', email: 'hong@example.com' },
    { id: 2, name: 'ê¹€ì² ìˆ˜', email: 'kim@example.com' },
    { id: 3, name: 'ì´ì˜í¬', email: 'lee@example.com' },
    { id: 4, name: 'ìµœë¯¼ìˆ˜', email: 'choi@example.com' }
  ])

  /**
   * í™•ì¥ëœ í…Œì´ë¸” ë°ì´í„° (ë¶€ì„œ, ì§ê¸‰ í¬í•¨)
   */
  const extendedTableData = ref([
    {
      id: 1,
      name: 'í™ê¸¸ë™',
      email: 'hong@example.com',
      department: 'ê°œë°œíŒ€',
      rank: 'ì‹œë‹ˆì–´'
    },
    {
      id: 2,
      name: 'ê¹€ì² ìˆ˜',
      email: 'kim@example.com',
      department: 'ë””ìì¸íŒ€',
      rank: 'ì£¼ë‹ˆì–´'
    },
    {
      id: 3,
      name: 'ì´ì˜í¬',
      email: 'lee@example.com',
      department: 'ê¸°íšíŒ€',
      rank: 'ë§¤ë‹ˆì €'
    },
    {
      id: 4,
      name: 'ìµœë¯¼ìˆ˜',
      email: 'choi@example.com',
      department: 'ë§ˆì¼€íŒ…íŒ€',
      rank: 'ì‹œë‹ˆì–´'
    }
  ])

  /**
   * ë¹ˆ í…Œì´ë¸” ë°ì´í„°
   */
  const emptyTableData = ref([])

  /**
   * ë¡œë”© ìƒíƒœ ê´€ë¦¬
   */
  const isLoading = ref(false)

  /**
   * ë¡œë”© ìƒíƒœ í† ê¸€ í•¨ìˆ˜
   */
  const toggleLoading = () => {
    isLoading.value = !isLoading.value
  }
</script>

<style lang="scss" scoped>
  // ë°ëª¨ í˜ì´ì§€ ìŠ¤íƒ€ì¼
  .table-demo {
    padding: 20px;
    max-width: 1200px;
    margin: 0 auto;

    h1 {
      padding: 15px 0;
      color: #333;
      border-bottom: 2px solid #007bff;
      margin-bottom: 30px;
    }

    // ì„¹ì…˜ êµ¬ë¶„
    .demo-section {
      margin-bottom: 40px;

      h3 {
        margin-bottom: 15px;
        color: #555;
        font-size: 18px;

        &::before {
          content: 'ğŸ“‹ ';
          margin-right: 8px;
        }
      }
    }

    // ë¡œë”© ì»¨íŠ¸ë¡¤ ë²„íŠ¼
    .loading-controls {
      margin-bottom: 15px;

      .btn {
        padding: 8px 16px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
        transition: background-color 0.2s ease;

        &:hover {
          background-color: #0056b3;
        }

        &:active {
          transform: translateY(1px);
        }
      }
    }

    // í…Œì´ë¸” ê³µí†µ ìŠ¤íƒ€ì¼ ë³´ì™„
    :deep(.ui-table) {
      margin-bottom: 20px;

      .text-center {
        text-align: center;
      }

      strong {
        color: #007bff;
        font-weight: 600;
      }
    }
  }

  // ë°˜ì‘í˜• ì²˜ë¦¬
  @media (max-width: 768px) {
    .table-demo {
      padding: 10px;

      h1 {
        font-size: 24px;
      }

      .demo-section h3 {
        font-size: 16px;
      }
    }
  }
</style>
