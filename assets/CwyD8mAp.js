import q from"./D0DdiXmS.js";import E from"./Cf2J3JP4.js";import H from"./BRCMuLp_.js";import P from"./Cz1JMRb5.js";import j from"./BQrvqJ39.js";import G from"./XH0XqVDl.js";import{_ as J,A as $,r as c,a2 as K,D as Q,w as s,o as n,a,b as d,d as f,c as u,F as _,g as y,x as g,m as W,t as B,n as X}from"./D2oEqBf0.js";import"./CQfVFNyr.js";const Y={class:"activity-header com-header flex gap-30 items-center"},Z={class:"activity-header__date-section"},ee={class:"activity-header__radio-section"},te={class:"activity-header__radio-group flex gap-10"},le={class:"activity-header__checkbox-section flex gap-10"},ae={class:"activity-content mt-20"},ie={class:"text-center",style:{width:"40px"}},oe=["onClick"],ne={class:"text-center"},de={class:"cell-content"},se={__name:"ActivityAddModal",props:{modelValue:{type:Boolean,default:!1},activityList:{type:Array,required:!0}},emits:["update:modelValue","add-activities"],setup(F,{emit:M}){const V=F,h=M,k=$({get:()=>V.modelValue,set:l=>h("update:modelValue",l)}),r=c([...V.activityList]),w=c([null,null]),m=c("activity"),U=c(!1),A=c(!1),i=c([]),x=c([{key:"board",title:"보드",width:"150px",align:"center"},{key:"task",title:"업무",width:"auto",align:"center"},{key:"activityDate",title:"활동일자",width:"120px",align:"center"},{key:"content",title:"활동내용",width:"auto",align:"left"},{key:"author",title:"작성자",width:"80px",align:"center"},{key:"createdAt",title:"작성일자",width:"120px",align:"center"}]),z=$(()=>r.value.length>0&&i.value.length===r.value.length),D=l=>{l?i.value=r.value.map(e=>e.id):i.value=[]},b=l=>{const e=i.value.indexOf(l.id);e>-1?i.value.splice(e,1):i.value.push(l.id)},L=l=>{b(l)},S=()=>{const l=r.value.filter(e=>i.value.includes(e.id));h("add-activities",l)};return K(()=>V.activityList,l=>{r.value=[...l],i.value=[]},{deep:!0}),(l,e)=>{const I=q,R=E,C=H,p=P,N=j,O=G;return n(),Q(O,{title:"활동추가",modelValue:k.value,"onUpdate:modelValue":e[7]||(e[7]=t=>k.value=t),size:"xlarge"},{"headerActions-right":s(()=>[d(I,{variant:"primary",onClick:S},{default:s(()=>e[8]||(e[8]=[a("i",{class:"icon icon-md icon-create icon-white"},null,-1),f(" 추가 ")])),_:1,__:[8]})]),default:s(()=>[a("div",Y,[a("div",Z,[d(R,{modelValue:w.value,"onUpdate:modelValue":e[0]||(e[0]=t=>w.value=t),isRange:""},null,8,["modelValue"])]),a("div",ee,[a("div",te,[d(C,{modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=t=>m.value=t),value:"activity",label:"활동일",name:"activityFilter"},null,8,["modelValue"]),d(C,{modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=t=>m.value=t),value:"created",label:"작성일",name:"activityFilter"},null,8,["modelValue"])])]),a("div",le,[d(p,{modelValue:U.value,"onUpdate:modelValue":e[3]||(e[3]=t=>U.value=t)},{default:s(()=>e[9]||(e[9]=[f("나의 활동만 가져오기")])),_:1,__:[9]},8,["modelValue"]),d(p,{modelValue:A.value,"onUpdate:modelValue":e[4]||(e[4]=t=>A.value=t)},{default:s(()=>e[10]||(e[10]=[f("피드백도 포함해서 가져오기")])),_:1,__:[10]},8,["modelValue"])])]),a("div",ae,[d(N,{title:"업무 활동 목록",modelValue:r.value,"onUpdate:modelValue":e[6]||(e[6]=t=>r.value=t),hover:"",striped:"",scrollable:"",bordered:"","cursor-pointer":!0,maxHeight:"calc(100vh - 220px)"},{colgroup:s(()=>[e[11]||(e[11]=a("col",{style:{width:"40px"}},null,-1)),(n(!0),u(_,null,y(x.value,(t,o)=>(n(),u("col",{key:o,style:X(t.width?`width: ${t.width}`:"")},null,4))),128))]),header:s(()=>[a("tr",null,[a("th",ie,[d(p,{modelValue:z.value,"onUpdate:modelValue":D,size:"large"},null,8,["modelValue"])]),(n(!0),u(_,null,y(x.value,(t,o)=>(n(),u("th",{key:o,class:g(t.align?`text-${t.align}`:"text-center")},B(t.title),3))),128))])]),body:s(({rows:t})=>[(n(!0),u(_,null,y(t,(o,ue)=>(n(),u("tr",{key:o.id,onClick:v=>L(o),class:g({selected:i.value.includes(o.id)})},[a("td",ne,[d(p,{modelValue:i.value.includes(o.id),"onUpdate:modelValue":v=>b(o),size:"large",onClick:e[5]||(e[5]=W(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])]),(n(!0),u(_,null,y(x.value,(v,T)=>(n(),u("td",{key:T,class:g(v.align?`text-${v.align}`:"text-center")},[a("span",de,B(o[v.key]),1)],2))),128))],10,oe))),128))]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"])}}},xe=J(se,[["__scopeId","data-v-b270facd"]]);export{xe as default};
