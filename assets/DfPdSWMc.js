import X from"./Cn9Ot7R3.js";import W from"./BeK_jWgq.js";import Y from"./BdKYgoh3.js";import q from"./Cr5Gnj2G.js";import J from"./CPxSzrTg.js";import{_ as Q,r as v,z as m,e as Z,E as ee,c as i,a as t,b as f,k as te,w as k,x as M,F as R,o as u,t as r,d as S,g as B}from"./BIGtHVYY.js";import"./B7RoOZIx.js";const oe={class:"report-page"},ne={class:"report-controls"},se={class:"checkbox-group"},ae={class:"select-group"},re={class:"modal-title"},le={class:"author-tags"},ie=["onClick"],ue={class:"modal-content",style:{position:"relative",top:"-15px"}},de={key:0,class:"report-container"},ce={class:"report-header"},pe={class:"author-info"},ve={class:"author-info-text"},me={class:"report-actions"},_e={class:"left-actions"},fe={class:"report-body"},he={class:"report-section"},xe={class:"report-content-flex"},ye={class:"report-content-item"},ge={class:"report-section-title"},we=["innerHTML"],be={class:"report-content-item"},ke={class:"report-section-title"},Ce=["innerHTML"],De={class:"report-content-item"},Te={class:"report-section-title"},Pe=["innerHTML"],Ve={class:"flex mt-20 gap-20"},Me={class:"report-section flex-1"},Re={class:"content-body"},Ie={class:"report-section flex-1"},Ue={class:"content-body"},Ae={key:0,class:"attachments-list"},ze={class:"file-name"},Fe={class:"file-size"},Le={key:1,class:"no-attachments"},Se={key:1,class:"no-report"},Be={key:0,class:"swiper-navigation"},Ee=["disabled"],He=["disabled"],Ne={__name:"view",setup(Ge){const d=v(null),C=v(!0),D=v(!0),I=v("w"),c=v(!1),l=v(0),E=[{value:"w",label:"작성일 기준"},{value:"r",label:"보고일 기준"}],H={dayMaxEvents:!1,moreLinkClick:"popover",eventDisplay:"block"},N=v([{id:"1",title:"[이찬용] 프로젝트 A 진행상황",start:"2025-06-16",allDay:!0,backgroundColor:"#0AF",borderColor:"#0AF",extendedProps:{reportType:"weekly",author:"이찬용",submitTarget:"한성진",group:"UX/UI 팀",actualContent:`리타게팅 랜딩페이지 수정
우체국뱅킹 ui/ux 개선 퍼블리싱 작업
Sgate 아카데미 퍼블리싱
Vue.js 컴포넌트 리팩토링
반응형 레이아웃 최적화`,planContent:`차주 계획:
- 리타게팅 랜딩페이지 최종 검수
- 우체국뱅킹 ui/ux 개선 완료
- Sgate 아카데미 퍼블리싱 마무리
- 신규 프로젝트 기획 참여`,etcContent:"전반적으로 계획대로 진행 중입니다.",attachments:[{id:1,name:"프로젝트_진행현황.xlsx",size:15234},{id:2,name:"화면설계서.pdf",size:3421567}],summary:"프로젝트 A 1차 개발 완료",createTime:"09:30"}},{id:"2",title:"[김영희] 품질관리 점검",start:"2025-06-16",allDay:!0,backgroundColor:"#00B248",borderColor:"#00B248",extendedProps:{reportType:"daily",author:"김영희",submitTarget:"이부장, 김영희, 홍길동, 김민수, 김정민",group:"품질관리 팀",actualContent:`생산라인 전체 점검 완료
- 1라인: 정상 가동
- 2라인: 미세 조정 필요
- 3라인: 정상 가동`,planContent:`내일 계획:
- 2라인 미세 조정 작업
- 월간 품질 보고서 작성
- 신규 장비 점검`,etcContent:"전반적으로 양호한 상태입니다.",attachments:[{id:3,name:"품질점검표.pdf",size:892345}],summary:"생산라인 품질관리 점검 완료",createTime:"16:45"}},{id:"3",title:"[이찬용] 프로젝트 A 진행상황",start:"2025-06-16",allDay:!0,backgroundColor:"#0AF",borderColor:"#0AF",extendedProps:{reportType:"weekly",author:"이찬용",submitTarget:"한성진",group:"UX/UI 팀",actualContent:`리타게팅 랜딩페이지 수정
우체국뱅킹 ui/ux 개선 퍼블리싱 작업
Sgate 아카데미 퍼블리싱
Vue.js 컴포넌트 리팩토링
반응형 레이아웃 최적화`,planContent:`차주 계획:
- 리타게팅 랜딩페이지 최종 검수
- 우체국뱅킹 ui/ux 개선 퍼블리싱
- Sgate 아카데미 퍼블리싱
- Vue.js 컴포넌트 리팩토링
- 반응형 레이아웃 최적화`,etcContent:"전반적으로 양호한 상태입니다.",attachments:[{id:3,name:"품질점검표.pdf",size:892345}],summary:"생산라인 품질관리 점검 완료",createTime:"16:45"}}]),g=m(()=>N.value.filter(e=>{const o=C.value&&e.extendedProps.reportType==="daily",a=D.value&&e.extendedProps.reportType==="weekly";return o||a})),h=m(()=>{if(!d.value)return[];const e=b(d.value);return g.value.filter(o=>b(o.start)===e)}),n=m(()=>h.value[l.value]||null),x=m(()=>{if(!n.value)return[];const e=n.value.extendedProps.author;return g.value.filter(o=>o.extendedProps.author===e).sort((o,a)=>new Date(o.start)-new Date(a.start))}),w=m(()=>!n.value||x.value.length===0?0:x.value.findIndex(e=>e.id===n.value.id)),T=m(()=>w.value>0),P=m(()=>w.value<x.value.length-1);function U(){if(!T.value)return;const e=x.value[w.value-1];e&&(d.value=new Date(e.start),F(e))}function A(){if(!P.value)return;const e=x.value[w.value+1];e&&(d.value=new Date(e.start),F(e))}function G(e){d.value=e.date,l.value=0,c.value=!0}function K(e){d.value=e.event.start;const o=h.value.findIndex(a=>a.id===e.event.id);l.value=o>=0?o:0,c.value=!0}function $(e){e>=0&&e<h.value.length&&(l.value=e)}function z(e){if(c.value)switch(e.key){case"ArrowLeft":e.preventDefault(),U();break;case"ArrowRight":e.preventDefault(),A();break;case"ArrowUp":e.preventDefault(),l.value>0&&l.value--;break;case"ArrowDown":e.preventDefault(),l.value<h.value.length-1&&l.value++;break;case"Escape":e.preventDefault(),c.value=!1;break}}function F(e){const o=b(e.start),p=g.value.filter(y=>b(y.start)===o).findIndex(y=>y.id===e.id);l.value=p>=0?p:0}function j(e){return e?new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(e)):""}function b(e){if(!e)return"";const o=new Date(e);return`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}`}function V(e){return e?e.replace(/\n/g,"<br>"):""}function O(e){if(e===0)return"0 Bytes";const o=1024,a=["Bytes","KB","MB","GB"],p=Math.floor(Math.log(e)/Math.log(o));return parseFloat((e/Math.pow(o,p)).toFixed(2))+" "+a[p]}return Z(()=>{window.addEventListener("keydown",z)}),ee(()=>{window.removeEventListener("keydown",z)}),(e,o)=>{const a=X,p=W,y=Y,L=q;return u(),i(R,null,[t("div",oe,[t("div",ne,[t("div",se,[f(a,{size:"large",modelValue:C.value,"onUpdate:modelValue":o[0]||(o[0]=s=>C.value=s),label:"일간보고",value:"d"},null,8,["modelValue"]),f(a,{size:"large",modelValue:D.value,"onUpdate:modelValue":o[1]||(o[1]=s=>D.value=s),label:"주간보고",value:"w"},null,8,["modelValue"])]),t("div",ae,[f(p,{class:"w-150",modelValue:I.value,"onUpdate:modelValue":o[2]||(o[2]=s=>I.value=s),options:E},null,8,["modelValue"])])]),f(J,{modelValue:d.value,"onUpdate:modelValue":o[3]||(o[3]=s=>d.value=s),events:g.value,onDateClick:G,onEventClick:K,useViewportHeight:!0,viewportHeight:85,customOptions:H},null,8,["modelValue","events"])]),f(L,{modelValue:c.value,"onUpdate:modelValue":o[4]||(o[4]=s=>c.value=s),size:"xxlarge",height:"90vh",showFooter:!1},{title:k(()=>[t("div",re,[S(r(j(d.value))+" 보고서 ",1),t("div",le,[(u(!0),i(R,null,B(h.value,(s,_)=>(u(),i("span",{key:s.id,class:M(["author-tag",{weekly:s.extendedProps.reportType==="weekly",daily:s.extendedProps.reportType==="daily",active:_===l.value}]),onClick:Ke=>$(_)},r(s.extendedProps.author),11,ie))),128))])])]),default:k(()=>{var s;return[t("div",ue,[n.value?(u(),i("div",de,[t("div",ce,[t("div",pe,[o[5]||(o[5]=t("i",{class:"icon icon-md icon-user2"},null,-1)),t("div",ve,[t("p",null,r(n.value.extendedProps.author),1),t("span",null,r(n.value.extendedProps.group),1)])]),t("div",me,[t("div",_e,[f(y,{position:"bottom"},{trigger:k(()=>o[6]||(o[6]=[t("div",{class:"report-submit-target"},[S(" 제출대상 "),t("i",{class:"icon-md icon-user"})],-1)])),default:k(()=>[t("p",null,r(n.value.extendedProps.submitTarget),1)]),_:1})])])]),t("div",fe,[t("div",he,[t("div",xe,[t("div",ye,[t("h3",ge,r((n.value.extendedProps.reportType==="weekly","KPI")),1),t("div",{class:"content-body",innerHTML:V(n.value.extendedProps.actualContent)},null,8,we)]),t("div",be,[t("h3",ke,r((n.value.extendedProps.reportType==="weekly","금주실적")),1),t("div",{class:"content-body",innerHTML:V(n.value.extendedProps.actualContent)},null,8,Ce)]),t("div",De,[t("h3",Te,r((n.value.extendedProps.reportType==="weekly","차주계획")),1),t("div",{class:"content-body",innerHTML:V(n.value.extendedProps.planContent)},null,8,Pe)])])]),t("div",Ve,[t("div",Me,[o[7]||(o[7]=t("h2",{class:"report-section-title"},"의견/기타",-1)),t("div",Re,r(n.value.extendedProps.etcContent||"특별한 의견 없음"),1)]),t("div",Ie,[o[9]||(o[9]=t("h2",{class:"report-section-title"},"첨부파일",-1)),t("div",Ue,[(s=n.value.extendedProps.attachments)!=null&&s.length?(u(),i("div",Ae,[(u(!0),i(R,null,B(n.value.extendedProps.attachments,_=>(u(),i("div",{key:_.id,class:"attachment-item"},[o[8]||(o[8]=t("i",{class:"icon icon-file"},null,-1)),t("span",ze,r(_.name),1),t("span",Fe,"("+r(O(_.size))+")",1)]))),128))])):(u(),i("div",Le,"첨부파일이 없습니다."))])])]),o[10]||(o[10]=t("div",{class:"mt-20"},[t("div",{class:"report-section"},[t("h2",{class:"report-section-title"},"피드백")])],-1))])])):(u(),i("div",Se,"선택된 보고서가 없습니다."))])]}),_:1},8,["modelValue"]),c.value?(u(),i("div",Be,[t("button",{class:M(["swiper-button swiper-button-prev",{"swiper-button-disabled":!T.value}]),onClick:U,disabled:!T.value,title:"이전 보고서"},o[11]||(o[11]=[t("i",{class:"icon icon-arrow-left icon-xxl"},null,-1)]),10,Ee),t("button",{class:M(["swiper-button swiper-button-next",{"swiper-button-disabled":!P.value}]),onClick:A,disabled:!P.value,title:"다음 보고서"},o[12]||(o[12]=[t("i",{class:"icon icon-arrow-right icon-xxl"},null,-1)]),10,He)])):te("",!0)],64)}}},Je=Q(Ne,[["__scopeId","data-v-41e8d3ca"]]);export{Je as default};
