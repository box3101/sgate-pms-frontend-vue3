import{_ as N,r as _,a4 as T,e as $,J as R,H as M,c as v,o as m,a as b,n as L,F as D,i as F,x as H,B as x,d as U,t as V}from"./BCYWSh4i.js";const Z={class:"ui-tabs__nav-wrapper"},J=["id","aria-controls","aria-selected","onClick"],K={key:0,class:"badge"},j={__name:"UiTabs",props:{tabs:{type:Array,required:!0,validator:s=>s.every(g=>g.id&&g.label)},defaultTab:{type:String,default:""},modelValue:{type:String,default:""},isScroll:{type:Boolean,default:!1},badge:{type:Array,default:()=>[]},isBadge:{type:Boolean,default:!1},maxWidth:{type:[String,Number],default:null},minWidth:{type:[String,Number],default:null},scrollable:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(s,{emit:g}){var B;const l=s,r=_(null),p=_(!1),w=_(!1),y=()=>{if(!r.value||!l.scrollable)return;const{scrollLeft:e,scrollWidth:t,clientWidth:a}=r.value;p.value=e>0,w.value=e<t-a-1},A=()=>{if(!r.value)return;const e=r.value,t=e.querySelectorAll(".ui-tabs__nav-item"),a=e.scrollLeft,d=a+e.clientWidth;let u=-1;for(let n=0;n<t.length;n++){const o=t[n],h=o.offsetLeft,f=h+o.offsetWidth;h>=a&&f<=d&&(u=n)}const i=u+1;if(i<t.length){const o=t[i].offsetLeft;e.scrollTo({left:o,behavior:"smooth"})}},E=()=>{if(!r.value)return;const e=r.value,t=e.querySelectorAll(".ui-tabs__nav-item"),a=e.scrollLeft,d=a+e.clientWidth;let u=-1;for(let i=0;i<t.length;i++){const n=t[i],o=n.offsetLeft,h=o+n.offsetWidth;if(o>=a&&h<=d){u=i;break}}if(u>0){const i=e.clientWidth;let n=u-1,o=0;for(let f=n;f>=0;f--){const z=t[f];if(o+=z.offsetWidth,o>i){n=f+1;break}f===0&&(n=0)}const h=t[n];e.scrollTo({left:h.offsetLeft,behavior:"smooth"})}},I=()=>{y()},k=()=>{y()},W=g,c=_(l.modelValue||l.defaultTab||((B=l.tabs[0])==null?void 0:B.id)||""),C=e=>{c.value!==e&&(c.value=e,W("update:modelValue",e),W("change",e))};T(()=>l.modelValue,e=>{e&&e!==c.value&&(c.value=e)});const S=e=>{const t=l.tabs.findIndex(d=>d.id===c.value);let a=t;switch(e.key){case"ArrowLeft":a=t>0?t-1:l.tabs.length-1;break;case"ArrowRight":a=t<l.tabs.length-1?t+1:0;break;case"Home":a=0;break;case"End":a=l.tabs.length-1;break;default:return}e.preventDefault(),C(l.tabs[a].id)},q=()=>{const e={};return l.maxWidth&&(e.maxWidth=typeof l.maxWidth=="number"?`${l.maxWidth}px`:l.maxWidth),l.minWidth&&(e.minWidth=typeof l.minWidth=="number"?`${l.minWidth}px`:l.minWidth),e};return $(()=>{const e=document.querySelector(".ui-tabs__nav");e==null||e.addEventListener("keydown",S),l.scrollable&&R(()=>{y(),window.addEventListener("resize",k)})}),M(()=>{const e=document.querySelector(".ui-tabs__nav");e==null||e.removeEventListener("keydown",S),window.removeEventListener("resize",k)}),T(()=>l.tabs,()=>{l.scrollable&&R(()=>{y()})},{deep:!0}),(e,t)=>(m(),v("div",{class:x(["ui-tabs",{"ui-tabs--scrollable":s.scrollable}])},[b("div",Z,[s.scrollable&&p.value?(m(),v("button",{key:0,class:"ui-tabs__scroll-btn ui-tabs__scroll-btn--left",onClick:E},t[0]||(t[0]=[b("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[b("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.9955 16.4463C13.7492 16.72 13.3277 16.7422 13.054 16.4959L6.3873 10.4961C6.2468 10.3697 6.1666 10.1896 6.1666 10.0006C6.1666 9.8116 6.2468 9.63149 6.3873 9.50506L13.054 3.50465C13.3276 3.25834 13.7492 3.28051 13.9955 3.55418C14.2418 3.82784 14.2196 4.24937 13.946 4.49568L7.8298 10.0005L13.9459 15.5048C14.2196 15.7511 14.2418 16.1726 13.9955 16.4463Z",fill:"#464C53"})],-1)]))):L("",!0),b("div",{ref_key:"navElement",ref:r,class:"ui-tabs__nav",role:"tablist",onScroll:I},[(m(!0),v(D,null,F(s.tabs,(a,d)=>(m(),v("button",{key:a.id,id:`tab-${a.id}`,"aria-controls":`panel-${a.id}`,"aria-selected":c.value===a.id,class:x(["ui-tabs__nav-item",{"ui-tabs__nav-item--active":c.value===a.id}]),style:H(q()),role:"tab",onClick:u=>C(a.id)},[U(V(a.label)+" ",1),s.isBadge?(m(),v("span",K,V(s.badge[d]),1)):L("",!0)],14,J))),128))],544),s.scrollable&&w.value?(m(),v("button",{key:1,class:"ui-tabs__scroll-btn ui-tabs__scroll-btn--right",onClick:A},t[1]||(t[1]=[b("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[b("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.00451 16.4463C6.25081 16.72 6.67234 16.7422 6.94601 16.4959L13.6127 10.4961C13.7532 10.3697 13.8334 10.1896 13.8334 10.0006C13.8334 9.8116 13.7532 9.63149 13.6127 9.50506L6.94604 3.50465C6.67237 3.25834 6.25085 3.28051 6.00453 3.55418C5.75822 3.82784 5.78039 4.24937 6.05405 4.49568L12.1702 10.0005L6.05408 15.5048C5.7804 15.7511 5.75821 16.1726 6.00451 16.4463Z",fill:"#464C53"})],-1)]))):L("",!0)]),b("div",{class:x(["ui-tabs__content",{"is-scroll":s.isScroll}])},null,2)],2))}},O=N(j,[["__scopeId","data-v-9e1a7c0d"]]);export{O as default};
