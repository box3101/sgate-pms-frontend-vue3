import{K as D,M as R,e as x,af as K,S as w,c as A,ag as N,a9 as z,a4 as C,ah as F,r as G,Q as H,ai as q,aj as J,J as I,_ as Q,g as W,o as X,b as M,w as Y,h as Z}from"./DBQ0s5Ec.js";const $=Symbol.for("nuxt:client-only"),nn=D({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(n,{slots:o,attrs:t}){const a=R(!1);x(()=>{a.value=!0});const i=N();return i&&(i._nuxtClientOnly=!0),z($,!0),()=>{var r;if(a.value){const e=(r=o.default)==null?void 0:r.call(o);return e&&e.length===1?[K(e[0],t)]:e}const l=o.fallback||o.placeholder;if(l)return w(l);const u=n.fallback||n.placeholder||"",c=n.fallbackTag||n.placeholderTag||"span";return A(c,t,u)}}});var en=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],tn=function(n){return en.map(function(o){return o.toLowerCase()}).indexOf(n.toLowerCase())!==-1},on=function(n,o,t){Object.keys(o).filter(tn).forEach(function(a){var i=o[a];typeof i=="function"&&(a==="onInit"?i(n,t):t.on(a.substring(2),function(l){return i(l,t)}))})},an=function(n,o,t,a){var i=n.modelEvents?n.modelEvents:null,l=Array.isArray(i)?i.join(" "):i;C(a,function(u,c){t&&typeof u=="string"&&u!==c&&u!==t.getContent({format:n.outputFormat})&&t.setContent(u)}),t.on(l||"change input undo redo",function(){o.emit("update:modelValue",t.getContent({format:n.outputFormat}))})},rn=function(n,o,t,a,i,l){a.setContent(l()),t.attrs["onUpdate:modelValue"]&&an(o,t,a,i),on(n,t.attrs,a)},V=0,T=function(n){var o=Date.now(),t=Math.floor(Math.random()*1e9);return V++,n+"_"+t+V+String(o)},ln=function(n){return n!==null&&n.tagName.toLowerCase()==="textarea"},B=function(n){return typeof n>"u"||n===""?[]:Array.isArray(n)?n:n.split(" ")},un=function(n,o){return B(n).concat(B(o))},dn=function(n){return n==null},O=function(n){var o;return typeof((o=n.options)===null||o===void 0?void 0:o.set)=="function"&&n.options.isRegistered("disabled")},k=function(){return{listeners:[],scriptId:T("tiny-script"),scriptLoaded:!1}},cn=function(){var n=k(),o=function(i,l,u,c){var r=l.createElement("script");r.referrerPolicy="origin",r.type="application/javascript",r.id=i,r.src=u;var e=function(){r.removeEventListener("load",e),c()};r.addEventListener("load",e),l.head&&l.head.appendChild(r)},t=function(i,l,u){n.scriptLoaded?u():(n.listeners.push(u),i.getElementById(n.scriptId)||o(n.scriptId,i,l,function(){n.listeners.forEach(function(c){return c()}),n.scriptLoaded=!0}))},a=function(){n=k()};return{load:t,reinitialize:a}},sn=cn(),fn=function(){return typeof window<"u"?window:global},m=function(){var n=fn();return n&&n.tinymce?n.tinymce:null},vn={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,readonly:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(n){return n==="html"||n==="text"}}},f=function(){return f=Object.assign||function(n){for(var o,t=1,a=arguments.length;t<a;t++){o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},f.apply(this,arguments)},mn=function(n,o,t,a){return n(a||"div",{id:o,ref:t})},gn=function(n,o,t){return n("textarea",{id:o,visibility:"hidden",ref:t})},_={selector:void 0,target:void 0},E=function(n,o){var t;typeof((t=n.mode)===null||t===void 0?void 0:t.set)=="function"?n.mode.set(o):n.setMode(o)},yn=D({props:vn,setup:function(n,o){var t=n.init?f(f({},n.init),_):f({},_),a=F(n),i=a.disabled,l=a.readonly,u=a.modelValue,c=a.tagName,r=G(null),e=null,v=n.id||T("tiny-vue"),y=n.init&&n.init.inline||n.inline,h=!!o.attrs["onUpdate:modelValue"],S=!0,P=n.initialValue?n.initialValue:"",b="",U=function(d){return h?function(){return u!=null&&u.value?u.value:""}:function(){return d?P:b}},p=function(){var d=U(S),s=f(f({},t),{disabled:n.disabled,readonly:n.readonly,target:r.value,plugins:un(t.plugins,n.plugins),toolbar:n.toolbar||t.toolbar,inline:y,license_key:n.licenseKey,setup:function(g){e=g,!O(e)&&n.disabled===!0&&E(e,"readonly"),g.on("init",function(L){return rn(L,n,o,g,u,d)}),typeof t.setup=="function"&&t.setup(g)}});ln(r.value)&&(r.value.style.visibility=""),m().init(s),S=!1};C(l,function(d){e!==null&&E(e,d?"readonly":"design")}),C(i,function(d){e!==null&&(O(e)?e.options.set("disabled",d):E(e,d?"readonly":"design"))}),C(c,function(d){var s;e&&(h||(b=e.getContent()),(s=m())===null||s===void 0||s.remove(e),I(function(){return p()}))}),x(function(){if(m()!==null)p();else if(r.value&&r.value.ownerDocument){var d=n.cloudChannel?n.cloudChannel:"7",s=n.apiKey?n.apiKey:"no-api-key",g=dn(n.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(s,"/tinymce/").concat(d,"/tinymce.min.js"):n.tinymceScriptSrc;sn.load(r.value.ownerDocument,g,p)}}),H(function(){m()!==null&&m().remove(e)}),y||(q(function(){S||p()}),J(function(){var d;e&&(h||(b=e.getContent()),(d=m())===null||d===void 0||d.remove(e))}));var j=function(d){var s;e&&(b=e.getContent(),(s=m())===null||s===void 0||s.remove(e),t=f(f(f({},t),d),_),I(function(){return p()}))};return o.expose({rerender:j,getEditor:function(){return e}}),function(){return y?mn(w,v,r,n.tagName):gn(w,v,r)}}});const pn={class:"tinymce-editor-wrapper"},bn={__name:"TinyEditor",props:{modelValue:{type:String,default:""},height:{type:[Number,String],default:400},showMenubar:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},showToolbar:{type:Boolean,default:!0}},emits:["update:modelValue","init","change"],setup(n,{emit:o}){const t=n,a=o,i=e=>typeof e=="string"?e.includes("calc")||e.includes("vh")||e.includes("vw")||e.includes("%")||isNaN(e)?e:parseInt(e):e,l=W(()=>({height:i(t.height),menubar:t.showMenubar,plugins:"lists link image table code",toolbar:t.showToolbar?"undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link image | code":!1,toolbar_mode:"floating",branding:!1,language:"ko_KR",readonly:t.readonly,resize:"vertical",content_style:`
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-size: 14px;
      line-height: 1.6;
      margin: 20px;
    }
  `})),u=e=>{a("update:modelValue",e)},c=(e,v)=>{console.log("TinyMCE 초기화 완료"),a("init",e,v)},r=(e,v)=>{a("change",e,v)};return(e,v)=>{const y=nn;return X(),A("div",pn,[M(y,null,{default:Y(()=>[M(Z(yn),{"model-value":n.modelValue,"onUpdate:modelValue":u,init:l.value,onInit:c,onChange:r},null,8,["model-value","init"])]),_:1})])}}},hn=Q(bn,[["__scopeId","data-v-d9bae1cc"]]);export{hn as default};
