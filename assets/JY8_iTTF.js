import J from"./wShasAfP.js";import j from"./3W_5LMch.js";import O from"./D6Rc2iWw.js";import{_ as P,r as u,c as i,b as g,w as f,o as d,F as U,i as B,B as Q,a as n,q as h,l as S,t as y,J as E}from"./DBQ0s5Ec.js";import"./Dd9s2QOt.js";import"./DkxVOIz1.js";const W={class:"rating-scale-table-container"},X=["draggable","onDragstart","onDragover","onDrop","onDragend","onClick"],Y={key:0,class:"editing-wrapper"},Z={key:1,class:"text-display-container"},tt={class:"text-content"},et=["onClick"],nt={class:"text-center"},at={__name:"RatingGroup",emits:["row-selected"],setup(ot,{emit:R}){const T=R;let k=null;const z=(e,t)=>(...r)=>{clearTimeout(k),k=setTimeout(()=>e(...r),t)},V=async()=>{try{console.log("✅ 자동저장 완료")}catch(e){console.error("❌ 저장 실패:",e)}},A=z(V,2e3),o=u({rowId:null,field:null}),_=u(null),b=u(""),G=()=>{A()},x=async(e,t)=>{var m;const r=c.value.find(C=>C.id===e);b.value=r[t],o.value={rowId:e,field:t},await E(),(m=_.value)!=null&&m[0]&&_.value[0].focus()},$=async e=>{await E(),e&&e.id&&x(e.id,"name")},w=()=>{o.value={rowId:null,field:null},V()},F=()=>{const e=c.value.find(t=>t.id===o.value.rowId);e&&o.value.field&&(e[o.value.field]=b.value),o.value={rowId:null,field:null}},H=e=>{T("row-selected",e)},K=u([{key:"name",title:"등급척도"},{key:"ratingCount",title:"평가등급수"}]),c=u([{id:1,name:"등급척도",ratingCount:0},{id:2,name:"평가등급수",ratingCount:0},{id:3,name:"평가항목",ratingCount:0},{id:4,name:"역량평가",ratingCount:0},{id:5,name:"성과평가",ratingCount:3},{id:6,name:"다면평가",ratingCount:5},{id:7,name:"리더십평가",ratingCount:4},{id:8,name:"업적평가",ratingCount:3},{id:9,name:"핵심가치평가",ratingCount:0},{id:10,name:"직무역량평가",ratingCount:4},{id:11,name:"업무성과평가",ratingCount:3},{id:12,name:"행동역량평가",ratingCount:0},{id:13,name:"종합평가",ratingCount:4},{id:14,name:"직무수행평가",ratingCount:5},{id:15,name:"팀워크평가",ratingCount:3},{id:16,name:"소통역량평가",ratingCount:4},{id:17,name:"목표달성평가",ratingCount:5},{id:18,name:"기여도평가",ratingCount:3},{id:19,name:"전문성평가",ratingCount:4},{id:20,name:"혁신역량평가",ratingCount:5}]);return(e,t)=>{const r=J,m=j,C=O;return d(),i("div",W,[g(C,{modelValue:c.value,"onUpdate:modelValue":t[2]||(t[2]=s=>c.value=s),title:"등급척도 그룹",editable:"",sortable:"",scrollable:"","max-height":"calc(100vh - 200px)",canSave:!1,onAddRow:$},{colgroup:f(()=>t[3]||(t[3]=[n("col",{style:{width:"40px"}},null,-1),n("col",{style:{width:"auto"}},null,-1),n("col",{style:{width:"80px"}},null,-1)])),header:f(({selectAll:s,isAllSelected:v})=>[n("th",null,[g(r,{size:"large",onClick:t[0]||(t[0]=h(()=>{},["stop"])),modelValue:v,"onUpdate:modelValue":s},null,8,["modelValue","onUpdate:modelValue"])]),(d(!0),i(U,null,B(K.value,p=>(d(),i("th",{key:p.key},y(p.title),1))),128))]),body:f(({rows:s,toggleRowSelection:v,isRowSelected:p,handleDragStart:L,handleDragOver:M,handleDrop:N,handleDragEnd:q,sortable:D})=>[(d(!0),i(U,null,B(s,(a,I)=>(d(),i("tr",{key:a.id,draggable:D,onDragstart:l=>L(l,I),onDragover:M,onDrop:l=>N(l,I),onDragend:q,class:Q({"sortable-row":D}),onClick:l=>H(a),style:{cursor:"pointer"}},[n("td",null,[g(r,{size:"large",onClick:t[1]||(t[1]=h(()=>{},["stop"])),modelValue:p(a),"onUpdate:modelValue":()=>v(a)},null,8,["modelValue","onUpdate:modelValue"])]),n("td",null,[o.value.rowId===a.id&&o.value.field==="name"?(d(),i("div",Y,[g(m,{ref_for:!0,ref_key:"editInput",ref:_,modelValue:a.name,"onUpdate:modelValue":l=>a.name=l,placeholder:"등급척도명을 입력하세요",onBlur:w,onKeyup:[S(w,["enter"]),S(F,["escape"])],onInput:G},null,8,["modelValue","onUpdate:modelValue"])])):(d(),i("div",Z,[n("span",tt,y(a.name||"등급척도명을 입력하세요"),1),n("button",{class:"edit-icon-btn",onClick:h(l=>x(a.id,"name"),["stop"]),title:"편집"},t[4]||(t[4]=[n("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),n("path",{d:"m18.5 2.5 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)]),8,et)]))]),n("td",nt,y(a.ratingCount),1)],42,X))),128))]),_:1},8,["modelValue"])])}}},ct=P(at,[["__scopeId","data-v-0fd3f715"]]);export{ct as default};
